/*1. */
CREATE ROLE VENDEDOR WITH ENCRYPTED PASSWORD '123';

/*2. */
ALTER ROLE VENDEDOR SUPERUSER LOGIN;

/*3. */
ALTER ROLE VENDEDOR NOINHERIT;

/*4.*/
DROP ROLE VENDEDOR;

/*5. */
CREATE ROLE LIMITADO WITH ENCRYPTED PASSWORD '123' LOGIN VALID UNTIL '2025-06-30';

/*6. */
CREATE ROLE SECRETARIA WITH ENCRYPTED PASSWORD '123' LOGIN;
CREATE ROLE VENDEDOR WITH ENCRYPTED PASSWORD '123' LOGIN;
CREATE ROLE ATENDENTE WITH ENCRYPTED PASSWORD '123' LOGIN;

/*7. */
SELECT * FROM PG_USER;

/*8. */
CREATE GROUP FUNCIONARIO;

/*9. */
GRANT FUNCIONARIO TO VENDEDOR, SECRETARIA, ATENDENTE, LIMITADO;

/*10. */
REVOKE FUNCIONARIO FROM LIMITADO

/*11. */
SELECT * FROM PG_GROUP;

/*12. */
REVOKE ALL ON CLIENTE, PEDIDO, ITEM_DO_PEDIDO, PRODUTO, VENDEDOR FROM PUBLIC;

/*13. */
GRANT SELECT, INSERT, UPDATE ON CLIENTE TO SECRETARIA;
GRANT SELECT, INSERT, UPDATE ON VENDEDOR TO SECRETARIA;

/*14. */
SELECT * FROM CLIENTE, VENDEDOR, PRODUTO;
-- PERMIÇÃO NEGADO
INSERT INTO CLIENTE (CODIGO_CLIENTE, NOME_CLIENTE) VALUES (3, 'CARLOS');
-- INSERT SUCCESSFULLY

/*15. */
REVOKE INSERT, UPDATE, DELETE ON VENDEDOR FROM SECRETARIA;

/*16. */
SELECT * FROM CLIENTE, VENDEDOR;
-- PERMIÇÃO NEGADA